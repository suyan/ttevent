<if condition="empty($notifications)" >
  <div class="center">{$error}</div>
<else />
<table class="table">
  <foreach name="notifications" item="notification">
    <tr>
      <switch name="notification.type">
        <case value="1">
          <td style="width:20px">
            <a class="show_detail" href="#{$notification['id']}"><i class="icon-plus"></i> </a>
          </td>
          <td>
            <div >
              <a href="{:U('User/userPage',array('id'=>$notification['content']['user']['id']))}">{$notification['content']['user']['nickname']}</a>评论了你的活动<a href="{:U('Main/event',array('id'=>$notification['content']['event']['id']))}">{$notification['content']['event']['name']}</a>
            </div>
            <div class="well well-small hide" id="{$notification['id']}">
              <div>{$notification['content']['content']}</div>
              <div class="text-right"><small>{:date('m-d G:i',$notification['create_time'])}</small></div>    
            </div>
          </td>
        </case>
        <case value="2">
          <td style="width:20px">
            <a class="show_detail" href="#{$notification['id']}"><i class="icon-plus"></i> </a>
          </td>
          <td>
            <div >
              <a href="{:U('User/userPage',array('id'=>$notification['content']['user']['id']))}">{$notification['content']['user']['nickname']}</a>关注了你
            </div>
          </td>
        </case>
      </switch>
    </tr>
  </foreach>
</table>
<div class="pagination pagination-centered">
  {$page}
</div>
</if>
<script>
  $('.show_detail').click(function(e){
    e.preventDefault();
    if($($(this).attr('href')).hasClass('hide')){
      $($(this).attr('href')).removeClass('hide');
    }else{
      $($(this).attr('href')).addClass('hide');
    }
  });
</script>